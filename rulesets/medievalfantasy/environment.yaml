entity:
  name: stone wall
  supertype: environment
  type: tile
  subtype: wall
  passable:
    land: 0
    water: 0
    air: 0
  max_hp: 500
  status:
    physical: -50

---

entity:
  name: ground
  supertype: environment
  type: tile
  subtype: floor
  passable:
    land: 1
    water: 0
    air: 1
  max_hp: 100
  status:
    physical: -5

---

entity:
  name: air
  supertype: environment
  type: tile
  subtype: air
  passable:
    land: 1
    water: 0
    air: 1
  max_hp: 100
  status:
    physical: -5

---

entity:
  name: water
  supertype: environment
  type: tile
  subtype: water
  passable:
    land: 0
    water: 1
    air: 1
  subtype: floor
  range: 0
  trigger:
    - frequency: round
      length: "*"
      user:
        effect:
          - name: wet
            magnitude:
              source: none
              value: 1
              type: static

---

entity:
  name: air
  supertype: environment
  type: tile
  subtype: floor

---

entity:
  supertype: object
  type: practice
  subtype: dummy
  name: dummy
  description: a wooden dummy
  max_hp: 20
  weight: 50
  status:
    physical: -5

---

entity:
  supertype: object
  type: container
  subtype: wood
  name: chest
  description: a wooden dummy
  max_hp: 20
  weight: 50
  status:
    physical: -5

---

entity:
  name: spike trap
  supertype: environment
  type: trap
  subtype: spike
  description: A wooden spike trap
  status:
    hidden
    armed
  max_hp: 20
  trigger:
    - frequency: round # Triggered on entry usually, handled by system logic checking 'armed' status
      length: 0
      target:
        effect:
          - name: piercing
            magnitude:
              source: self
              stat: physique.strength # Trap strength?
              # Simplified
              value: 10
              type: static
  range: 0
  interaction:
    - type: disarm
      user:
        requirement:
          - test:
              source: user
              stat: dexterity.trickery
              type: roll
            difficulty:
              source: none
              value: 15
              type: static
      pass:
        description: you sucessfuly disarmed the trap
        # Effect to remove 'armed'
      fail:
        description: you triggered the trap
        # Effect to trigger
  attribute:
    physique:
      base: 9
      skill:
        polearm:
          base: 6

---

entity:
  name: portcullis
  supertype: environment
  type: trap
  subtype: gate
  description: a closed portcullis
  passable:
    land: 0
    water: 0
    air: 0
  status:
    locked
  max_hp: 100
  interaction:
    - type: open
      user:
        requirement:
          - test:
              source: user
              stat: physique.strength
              type: roll
            difficulty:
              source: none
              value: 20
              type: static
      pass:
        description: you sucessfuly lift the portcullis
        # Effect to change passable
      fail:
        description: the portcullis does not budge
    - type: unlock
      user:
        requirement:
          - test:
              source: user
              stat: dexterity.trickery
              type: roll
            difficulty:
              source: none
              value: 15
              type: static
      pass:
        description: you sucessfuly unlock the portcullis
      fail:
        description: the lock to the portcullis jams
  damage_mod:
    physical: -10

...